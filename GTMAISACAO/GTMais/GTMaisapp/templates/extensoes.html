<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Ações de Extensão</title>
</head>
<style>
    input{
        width: 90%;
        font-size: 20px;
        border-radius: 8px;
        padding: 5px;
    }
    select{
        align-items:center;
      width: 150px;
    font-size: 15px;
    background-color: #E7E7E7;
    padding: 3px;
    border-radius: 6px;
    text-align:center;
    }
    .selects{
        display:flex;
        align-items: center;
        justify-content: center;
    }
    button{
        background-color:#1F2B5B;
        color:white;
        border-radius: 8px;
        padding: 10px;
        font-size: 18px;
    }
    form{    display: inline-block;
        justify-content: center;
        text-align: center;
        width:90%;
    }
   


</style>
<body>
    <h1>Lista de Ações de Extensão</h1>
    
    <form method="get" action="{% url 'extensoes' %}">
        <div >
            <input type="text" name="search" placeholder="Pesquisar" value="{{ search_term }}">
        </div>
        <div class="selects">
        <div>
            <select  name="situacao" id="situacao">
                {% for situacao in situacoes %}
                <option value="{{ situacao.idSituacao }}" {% if situacao.idSituacao|stringformat:"s" == search_situacao %}selected{% endif %}>
                    {{ situacao.nomeSituacao }}
                </option>
                {% endfor %}
        </select>
    </div>
    <div>
        <select name="localizacao" id="localizacao">
            <option value="">Nacional</option>
            <option value="sala">Sala</option>
        </select>
        </div>
        <!--   <div>
            <label for="localizacao">Filtrar por Localização:</label>
            <select name="localizacao" id="localizacao">
                <option value="">Localização</option>
                <option value="Nacional" {% if search_localizacao == 'Nacional' %}selected{% endif %}>Nacional</option>
                <option value="Sala" {% if search_localizacao == 'Sala' %}selected{% endif %}>Sala</option>
            </select>
        </div>--> 


        <div>
          
            <select name="order_by">
                <option value="idAcao" {% if order_by == 'idAcao' %}selected{% endif %}>ID</option>
                <option value="TituloAcao" {% if order_by == 'TituloAcao' %}selected{% endif %}>Título</option>
                <option value="coordenadorAcao" {% if order_by == 'coordenadorAcao' %}selected{% endif %}>Coordenador</option>
                <option value="localizacao" {% if order_by == 'localizacao' %}selected{% endif %}>Localização</option>
                <option value="dtCriacao" {% if order_by == 'dtCriacao' %}selected{% endif %}>Data de Criação</option>
            </select>

            <select name="order_direction" id="order_direction">
                <option value="asc" {% if order_direction == 'asc' %}selected{% endif %}>Recentes</option>
                <option value="desc" {% if order_direction == 'desc' %}selected{% endif %}>Antigos</option>
            </select>
        </div>
    </div>
    <div class="selects">
    <div>
        <select name="tipo" id="tipo">
            <option value="">Tipo</option>
            {% for tipo in tipos %}
            <option value="{{ tipo.idTipo }}" {% if tipo.idTipo|stringformat:"s" == search_tipo %}selected{% endif %}>
                {{ tipo.nomeTipo }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <input type="date" name="data_inicio" placeholder="Data Início" value="{{ data_inicio }}">
        <input type="date" name="data_fim" placeholder="Data Fim" value="{{ data_fim }}">
    </div>   </div>
        <button type="submit">Aplicar Filtros</button>
    </form>
    
    <!-- Tabela de resultados -->
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Título</th>
                <th>Coordenador</th>
                <th>Aluno</th>
                <th>Tipo</th>
                <th>Situação</th>
                <th>Data de Criação</th>
                <th>Data de Modificação</th>
                <th>Data de Início</th>
                <th>Data de Fim</th>
                <th>Localização</th>
            </tr>
        </thead>
        <tbody>
            {% for acao in acoes %}
            <tr>
                <td>{{ acao.idAcao }}</td>
                <td>{{ acao.TituloAcao }}</td>
                <td>{{ acao.coordenadorAcao }}</td>
                <td>{{ acao.alunoAcao }}</td>
                <td>{{ acao.idTipo.nomeTipo }}</td>
                <td>{{ acao.idSituacao.nomeSituacao }}</td>
                <td>{{ acao.dtCriacao }}</td>
                <td>{{ acao.dtModificacao }}</td>
                <td>{{ acao.dtInicio }}</td>
                <td>{{ acao.dtFim }}</td>
                <td>{{ acao.localizacao }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="11">Nenhuma ação encontrada.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
